{"ast":null,"code":"import { getStacksProvider } from './utils.esm.js';\nimport { authenticate } from './auth.esm.js';\nimport { defineCustomElements } from '@stacks/connect-ui/loader';\n\nvar showConnect = function showConnect(authOptions) {\n  if (getStacksProvider()) {\n    void authenticate(authOptions);\n    return;\n  }\n\n  if (typeof window !== void 0) {\n    void defineCustomElements(window);\n    var element = document.createElement(\"connect-modal\");\n    element.authOptions = authOptions;\n    document.body.appendChild(element);\n\n    var handleEsc = function handleEsc(ev) {\n      if (ev.key === \"Escape\") {\n        document.removeEventListener(\"keydown\", handleEsc);\n        element.remove();\n      }\n    };\n\n    document.addEventListener(\"keydown\", handleEsc);\n  }\n};\n\nvar showBlockstackConnect = function showBlockstackConnect(authOptions) {\n  return showConnect(authOptions);\n};\n\nexport { showBlockstackConnect, showConnect };","map":{"version":3,"sources":["../src/ui.ts"],"names":["showConnect","getStacksProvider","authenticate","authOptions","defineCustomElements","window","element","document","body","appendChild","handleEsc","ev","removeEventListener","remove","addEventListener","showBlockstackConnect"],"mappings":";;;;IAKaA,WAAAA,GAAc,SAAdA,WAAc,CAAA,WAAA,EAA8B;MACnDC,iBAAAA,E,EAAqB;SAClBC,YAAAA,CAAaC,WAAbD,C;;;;MAGH,OAAA,MAAA,KAAkB,KAAA,C,EAAW;SAC1BE,oBAAAA,CAAqBC,MAArBD,C;QACCE,OAAAA,GAAUC,QAAAA,CAAAA,aAAAA,CAAAA,eAAAA,C;YACRJ,W,GAAcA,W;aACbK,I,CAAKC,W,CAAYH,O;;QACpBI,SAAAA,GAAY,SAAZA,SAAY,CAAA,EAAA,EAAuB;UACnCC,EAAAA,CAAAA,GAAAA,KAAW,Q,EAAU;iBACdC,mB,CAAoB,S,EAAWF,S;gBAChCG,M;;;;aAGHC,gB,CAAiB,S,EAAWJ,S;;;;IAO5BK,qBAAAA,GAAwB,SAAxBA,qBAAwB,CAAA,WAAA,EAAA;AAAA,SAA8Bf,WAAAA,CAA9B,WAA8BA,CAA9B;AAAA,C","sourcesContent":["import { authenticate } from './auth';\nimport type { AuthOptions } from './types/auth';\nimport { defineCustomElements } from '@stacks/connect-ui/loader';\nimport { getStacksProvider } from './utils';\n\nexport const showConnect = (authOptions: AuthOptions) => {\n  if (getStacksProvider()) {\n    void authenticate(authOptions);\n    return;\n  }\n  if (typeof window !== undefined) {\n    void defineCustomElements(window);\n    const element = document.createElement('connect-modal');\n    element.authOptions = authOptions;\n    document.body.appendChild(element);\n    const handleEsc = (ev: KeyboardEvent) => {\n      if (ev.key === 'Escape') {\n        document.removeEventListener('keydown', handleEsc);\n        element.remove();\n      }\n    };\n    document.addEventListener('keydown', handleEsc);\n  }\n};\n\n/**\n * @deprecated Use the renamed `showConnect` method\n */\nexport const showBlockstackConnect = (authOptions: AuthOptions) => showConnect(authOptions);\n"]},"metadata":{},"sourceType":"module"}